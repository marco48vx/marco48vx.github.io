"use strict";(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4050],{44050:function(e,t,n){n.d(t,{Z:function(){return A}});var a=n(29646),r=n(50959),i=n(85032),o=n(93698),l=n(56917),u=n(31514),c=function(e){var t=e.containerWidth,n=e.cardWidth,a=e.mobileBreakpoint,r=0;return t>=a-i.k1&&(r=(t-n)/2),r},s=function(e,t,n,a){var r=0;if(e&&t){var o=e.clientWidth,l=t.clientWidth||0,u=c({containerWidth:o,cardWidth:l,mobileBreakpoint:a});r=Math.round(-1*l*n+u-i.k1*n)}return r},f=function(e){var t=0;if(e){var n=getComputedStyle(e).getPropertyValue("transform");n&&"none"!==n&&(t=Math.round(new DOMMatrixReadOnly(n).m41))}return t},d=function(e){var t=e.parentElementRef,n=e.element,a=e.index,r=e.translateAmount;return(s(t.current,n,a,i.vb)-f(t.current)-r)*i.l8},m=function(e){var t=e.parentElementRef,n=e.cardEls,a=e.cardPosition,r=f(t.current),i=[];return n.forEach(function(e,n){var o=d({parentElementRef:t,element:e,index:n,translateAmount:a-r});i.push(o)}),i},v=function(e){var t=e.totalDuration,n=i.mW.join(",");return{duration:t,iterations:1,easing:"cubic-bezier(".concat(n,")"),fill:"forwards"}},p=function(e){var t="0";return e&&(t=getComputedStyle(e).getPropertyValue("object-position")),t},h=function(e){var t=e.element,n=e.imageElement,a=e.translateAmount,r=e.totalDuration,o=e.parallaxTranslateXVal,l=e.isCarouselActive,u=v({totalDuration:r}),c=[],s=[];if(t){if(l){var d=f(t);c=[{transform:"translate3d(".concat(d,"px, 0, 0)"),offset:0},{transform:"translate3d(".concat(a,"px, 0, 0)"),offset:1}],n&&(s=[{objectPosition:p(n),offset:0},{objectPosition:"calc(50% + ".concat(-(a*i.l8*1)+o,"px) 50%"),offset:1}])}else c=[{transform:"translate3d(0, 0, 0)"}],n&&(s=[{objectPosition:"unset"}])}return{cardKeyframes:c,imageKeyframes:s,animationOptions:u}},E=function(e){var t=e.element,n=e.imageElement,a=e.translateAmount,r=e.totalDuration,o=e.parallaxTranslateXVal,l=e.isCarouselActive,u=v({totalDuration:r}),c=[],s=[];if(t){var d=f(t);l&&r>0&&0!==a?(c=[{transform:"translate3d(".concat(d,"px, 0, 0)"),offset:0},{transform:"translate3d(".concat(a,"px, 0, 0)"),offset:i.ft/r},{transform:"translate3d(".concat(0,"px, 0, 0)"),offset:1}],n&&(s=[{objectPosition:p(n),offset:0},{objectPosition:"calc(50% + ".concat(-(a*i.l8*1),"px) 50%"),offset:i.ft/r},{objectPosition:"calc(50% + ".concat(o,"px) 50%"),offset:1}])):(c=[{transform:"translate3d(0, 0, 0)"}],n&&(s=[{objectPosition:"unset"}]))}return{cardKeyframes:c,imageKeyframes:s,animationOptions:u}},x=function(e){var t=e.cardEls,n=e.parallaxTranslateXVals,a=e.isCarouselActive,i=(0,r.useState)(),o=i[0],l=i[1],u=(0,r.useState)(0),c=u[0],s=u[1],f=(0,r.useState)(),d=f[0],m=f[1];return(0,r.useEffect)(function(){if("number"==typeof o&&"number"==typeof d){var e=[],r=[];d<0?(e=t.slice(0,o+1),r=t.slice(o)):d>0?(e=t.slice(o),r=t.slice(0,o+1)):r=t,r.forEach(function(e,t){var r=d<0?t+o:t;if(e){var i=e.querySelectorAll(".parallax img"),l=h({element:e,imageElement:i[0],translateAmount:0,totalDuration:c,parallaxTranslateXVal:n[r],isCarouselActive:a}),u=l.cardKeyframes,s=l.imageKeyframes,f=l.animationOptions;e.animate(u,f),i.forEach(function(e){e.animate(s,f)})}}),e.forEach(function(e,t){var r=d>0?t+o:t;if(e){var i=e.querySelectorAll(".parallax img");if(c>0){var l=E({element:e,imageElement:i[0],translateAmount:d,totalDuration:c,parallaxTranslateXVal:n[r],isCarouselActive:a}),u=l.cardKeyframes,s=l.imageKeyframes,f=l.animationOptions;e.animate(u,f),i.forEach(function(e){e.animate(s,f)})}else{var m=h({element:e,imageElement:i[0],translateAmount:d,totalDuration:c,parallaxTranslateXVal:n[r],isCarouselActive:a}),v=m.cardKeyframes,p=m.imageKeyframes,x=m.animationOptions;e.animate(v,x),i.forEach(function(e){e.animate(p,x)})}}}),m(void 0)}},[t,o,m,d,c,n]),[l,s,m]},b=function(e){var t=e.parentElementRef,n=e.cardEls,o=e.parallaxTranslateXVals,l=e.isCarouselActive,u=(0,r.useState)(),c=u[0],s=u[1],d=(0,r.useState)(0),m=d[0],p=d[1],h=(0,r.useState)(),E=h[0],b=h[1],C=x({cardEls:n,parallaxTranslateXVals:o,isCarouselActive:l}),g=(0,a.Z)(C,3),A=g[0],y=g[1],S=g[2];return(0,r.useEffect)(function(){var e=t.current,a=e?f(e):0;if(e&&"number"==typeof c&&n[c]&&void 0!==E&&E!==a){var r=m+i.ft,o=[{transform:"translate3d(".concat(a,"px, 0, 0)"),offset:0},{transform:"translate3d(".concat(a,"px, 0, 0)"),offset:i.ft/r},{transform:"translate3d(".concat(E,"px, 0, 0)"),offset:1}],l=v({totalDuration:r});e.animate(o,l);var u=E-a;A(Math.round(Math.abs(a/(null==e?void 0:e.scrollWidth)*n.length))),y(r),S(i.d0*u),b(void 0)}},[c,m,E]),[s,p,b]},C=function(e){var t=e.parentElementRef,n=e.cardEls,c=e.activeCardIdx,f=e.isMobileOnly,d=e.mobileBreakpoint,v=(0,l.Z)(),p=(0,r.useState)([]),h=p[0],E=p[1],x=(0,r.useState)(!1),C=x[0],g=x[1],A=(0,o.Z)(),y=b({parentElementRef:t,cardEls:n,parallaxTranslateXVals:h,isCarouselActive:C}),S=(0,a.Z)(y,3),w=S[0],X=S[1],M=S[2],T=(0,r.useCallback)(function(){var e,a,r,o=null===(e=n[c])||void 0===e?void 0:e.clientWidth,l=null==t||null===(a=t.current)||void 0===a?void 0:a.clientWidth,u=null===(r=window)||void 0===r?void 0:r.innerWidth,p=!1;if(!A&&!v&&null!=t&&t.current&&l&&o&&o>0&&n.length>1&&(p=!f||u<d),g(p),p){w(c);var h=s(t.current,n[c],c,d);E(m({parentElementRef:t,cardEls:n,cardPosition:h})),X(i.J5),M(h)}else M(0)},[t,n[c],c,g,v]);return(0,r.useEffect)(function(){T();var e=(0,u.Ds)(T,100);if(window)return window.addEventListener("resize",e),function(){window.removeEventListener("resize",e)}},[T]),[h,C]},g=function(e){var t=e.parentElementRef,n=e.cardEls,o=e.activeCardIdx,l=e.numberOfCards,u=e.setActiveCardIdx,c=e.parallaxTranslateXVals,s=e.isCarouselActive,d=(0,r.useState)(),m=d[0],v=d[1],p=(0,r.useState)(),h=p[0],E=p[1],b=(0,r.useState)(),C=b[0],g=b[1],A=(0,r.useState)(),y=A[0],S=A[1],w=x({cardEls:n,parallaxTranslateXVals:c,isCarouselActive:s}),X=(0,a.Z)(w,3),M=X[0],T=X[1],D=X[2];return(0,r.useEffect)(function(){if(null!=t&&t.current&&y&&s){if(M(o),C){var e=-((C-y)*1)+f(n[o]);T(0),D(e)}g(y)}},[y,C,o,t,g,T,M,D,s]),(0,r.useEffect)(function(){if(null!=t&&t.current&&m&&h&&s){M(o),T(i.ft),D(0);var e=t.current.clientWidth*i.BD,n=m-h;n>=e&&o+1<l?u(o+1):n<=-1*e&&o>0&&u(o-1),v(void 0),E(void 0),g(void 0),S(void 0)}},[t,h,u,v,E,g,S,M,T,D,s]),[v,E,S]},A=function(e){var t=e.activeCardIdx,n=e.setActiveCardIdx,o=e.cardContainerRef,l=e.cards,u=e.isMobileOnly,c=e.mobileBreakpoint,s=void 0===c?i.vb:c,f=(0,r.useState)(!1),d=f[0],m=f[1],v=(0,r.useState)([]),p=v[0],h=v[1],E=(null==l?void 0:l.length)||0,x=C({parentElementRef:o,cardEls:p,activeCardIdx:t,isMobileOnly:void 0!==u&&u,mobileBreakpoint:s}),b=(0,a.Z)(x,2),A=b[0],y=b[1],S=g({parentElementRef:o,cardEls:p,activeCardIdx:t,numberOfCards:E,setActiveCardIdx:n,parallaxTranslateXVals:A,isCarouselActive:y}),w=(0,a.Z)(S,3),X=w[0],M=w[1],T=w[2],D=function(e){M(e.clientX),setTimeout(function(){return m(!1)},1)};return(0,r.useEffect)(function(){var e;h(Array.from((null===(e=o.current)||void 0===e?void 0:e.children)||[]))},[o]),{handleMouseDown:function(e){return X(e.clientX)},handleMouseUp:D,handleMouseMove:function(e){e.buttons>0&&y&&(m(!0),T(e.clientX))},handleMouseLeave:function(e){D(e)},handleCardMouseEnter:function(e){e.buttons>0&&(m(!0),X(e.clientX))},handleTouchStart:function(e){return X(e.touches[0].clientX)},handleTouchEnd:function(e){return M(e.changedTouches[0].clientX)},handleTouchMove:function(e){T(e.touches[0].clientX)},isDragging:d,isCarouselActive:y}}},85032:function(e,t,n){n.d(t,{BD:function(){return u},J5:function(){return r},d0:function(){return o},ft:function(){return a},k1:function(){return c},l8:function(){return l},mW:function(){return i},vb:function(){return s}});var a=67,r=1e3,i=[.36,0,.26,1],o=.158,l=.17,u=.33,c=16,s=768},93698:function(e,t,n){var a=n(96979);t.Z=function(){var e,t=(0,a.useRouter)();return(null==t?void 0:t.pathname)==="/cms/builder/edit"&&!!(null!=t&&null!==(e=t.query)&&void 0!==e&&e["builder.frameEditing"])}},56917:function(e,t,n){var a=n(50959);t.Z=function(){var e=(0,a.useState)(!0),t=e[0],n=e[1],r=(0,a.useCallback)(function(){var e;n((null===(e=window)||void 0===e?void 0:e.matchMedia("(prefers-reduced-motion: reduce)")).matches)},[n]);return(0,a.useEffect)(function(){if(r(),window){var e=window.matchMedia("(prefers-reduced-motion: reduce)");return e.addEventListener("change",r),function(){e.removeEventListener("change",r)}}},[n]),t}}}]);